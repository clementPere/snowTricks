{% block body %}

	<div id="carouselExampleControls" class="carousel slide" data-bs-ride="carousel">
		<div class="carousel-inner">
			{% for key, media in trick.medias %}
				{# Si le premier élément du carousel est une image avec une url #}
				{% if key == 0 and media.type[0] == 'image' and media.url != null %}
					<div class="carousel-item active">
						<img src="{{ media.url }}" class="d-block w-100 h-100" title="Image ajouté par {{ media.user.username }}" alt="{{ media.type[0] }} qui illustre la figure {{ trick.name}}">
					</div>
					{# Si le premier élément du carousel est une video avec une url #}
				{% elseif  key == 0 and media.type[0] == 'video' and media.url != null %}
					<div class="video-responsive carousel-item active">
						<iframe width="560" height="315" src="{{ media.url }}" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
					</div>
					{# Si le premier élément du carousel est une image à récuperer depuis le dossier media #}
				{% elseif key == 0 and media.type[0] == 'image' and media.fileName != null %}
					<div class="carousel-item active">
						<img src="{{ asset('uploads/'~media.fileName)}}" class="card-img-top" title="Image ajouté par {{ media.user.username }}" alt="{{ media.type[0] }} qui illustre la figure {{ trick.name}}">
					</div>
					{# Si l'élément du carousel est une video avec une url #}
				{% elseif media.type[0] == 'video' %}
					<div class="video-responsive carousel-item">
						<iframe width="560" height="315" src="{{ media.url }}" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
					</div>
					{# Si l'élément du carousel est une image avec une url #}
				{% elseif media.type[0] == 'image' and media.url != null %}
					<div class="carousel-item">
						<img src="{{ media.url }}" class="d-block w-100 h-100" title="Image ajouté par {{ media.user.username }}" alt="{{ media.type[0] }} qui illustre la figure {{ trick.name}}">
					</div>
					{# Sinon on affiche une image depuis notre dossier media #}
				{% else %}
					<div class="carousel-item active">
						<img src="{{ asset('uploads/'~media.fileName)}}" class="card-img-top" title="Image ajouté par {{ media.user.username }}" alt="{{ media.type[0] }} qui illustre la figure {{ trick.name}}">
					</div>
				{% endif %}
			{% endfor %}
		</div>
		<button class="carousel-control-prev bg-dark" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="prev">
			<span class="carousel-control-prev-icon" aria-hidden="true"></span>
			<span class="visually-hidden">Précédent</span>
		</button>
		<button class="carousel-control-next bg-dark" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="next">
			<span class="carousel-control-next-icon" aria-hidden="true"></span>
			<span class="visually-hidden">Suivant</span>
		</button>
	</div>


{% endblock %}
